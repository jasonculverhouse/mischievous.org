---
layout: post
title:  "Upgrading from movabletype 4 to 5 with a SQLite database"
date:   2010-01-30 10:41:57 +0000
categories: uncategorized
---
<span class="Apple-style-span" style="font-family: 'trebuchet ms', helvetica, hirakakupro-w3, osaka, 'ms pgothic', sans-serif; "><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0.75em; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">I was concerned to see that SQLite was deprecated in movabletype 5.0, but I went ahead and upgraded my blog. I followed the standard procedure, copy the new version over the old version then run the mt-upgrade.cgi via the browser. The upgrade script never made it to migrating the database. When this happened I just used the "Upgrade a large database" instructions</p><pre style="margin-top: 0px; margin-right: 0px; margin-bottom: 0.75em; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><code style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">    $ export MT_HOME=/var/local/mv
$ cd $MT_HOME
$ perl  ./tools/upgrade --name superuser
upgrade -- A command line tool for upgrading the schema for Movable Type.
    * Upgrading database from version 4.0070.
    * Upgrading table for Website records...
    * Upgrading table for MT::Entry::Summary records...
    * Upgrading table for entry_rev records...
    * Upgrading table for Entry records...
    * Upgrading table for Asset Placement records...
    * Upgrading table for Session records...
    * Upgrading table for MT::Author::Summary records...
    * Upgrading table for User records...
    * Upgrading table for template_rev records...
    * Upgrading table for Template records...
    * Upgrading table for Permission records...
    * Upgrading table for Comment records...
    * Rebuilding permissions...
    * Rebuilding permissions... (100%)
    * Updating existing role name...
    * Populating new role for website...
    * Migrating mtview.php to MT5 style...
    * Assigning new system privilege for system administrator...
    * Assigning to  jason...
    * Updating existing role name...
    * Populating new role for theme...
    * Upgrading Asset path informations...
    * Classifying blogs...
    * Classifying blogs... (100%)
    * Merging dashboard settings...
    * Merging dashboard settings... (100%)
    * Migrating existing 1 blog into websites and its children...
    * Generated a website http://mischievous.org/
    * Moved blog Pseudointellectual Appendification (http://www.mischievous.org/) under website mischievous.org
    * Creating new template: 'Comment Listing'.
    * Database has been upgraded to version 5.0016.
Upgrade complete!</code></pre></span>